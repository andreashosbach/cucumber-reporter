# cucumber-scenarioo-plugin

*Generate Scenarioo documentation from cucumber tests.*

## Using the plugin

###Add the dependency to your pom.xml

Currently you have to download and compile the sources locally first.

	<dependency>
    	<groupId>com.github.andreashosbach</groupId>
		<artifactId>cucumber-scenarioo-plugin</artifactId>
		<version>0.3.0</version>
	</dependency>

###Add the plugin to the Cucumber test runner

    @RunWith(Cucumber.class)
    @CucumberOptions(  ...
        plugin = "com.github.andreashosbach.cucumber_scenarioo_plugin.CucumberScenariooPlugin:target/scenarioo"
    ...)

###Define an after step hook where you take a screenshot and save it with Screenshot.save(...)
  
Example with Selenium:
  
    @AfterStep
    public void afterStep() {
        TakesScreenshot scrShot = ((TakesScreenshot) webDriver);
        Screenshot.save(webDriver.getTitle(), scrShot.getScreenshotAs(OutputType.BYTES));
    }

Currently you can  have only one after step hook, otherwise the steps are written twice.
(While you can also take the screenshot in the step itself, you have to make sure that for every step there is a screenshot 
saved in the same order as the steps are executed. But there has to be an after step event to trigger the writing of the 
step in the plugin.)

###Setting branch and build names

By default the branch name is *branch* and build names are *Build-yyyy-MM-dd-hh-mm-ss* generated by the default name generators.
This behaviour can be changed by implementing custom name generators.

_Generate different build names_

Implement the interface *BuildNameGenerator* and register it before execution in the CucumberScenariooPlugin class with
*CucumberScenariooPlugin.setBuildNameGenerator(new MyBuildNameGenerator())*

_Generate different branch names_
 
Implement the interface *BranchNameGenerator* and register it before execution in the CucumberScenariooPlugin class with
*CucumberScenariooPlugin.setBranchNameGenerator(new MyBranchNameGenerator())*

## Scenarioo

The results can be displayed with [Scenarioo](http://scenarioo.org/)

To run Scenarioo in Docker the [Scenarioo documentation](http://scenarioo.org/docs/master/tutorial/Scenarioo-Viewer-Docker-Image.html)
